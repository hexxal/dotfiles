---
- name: Install APT packages
  become: yes
  become_method: sudo
  apt:
    pkg:
      - i3
      - xinit
      - x11-xserver-utils
      - snapd
      - firefox
      - fonts-inconsolata
      - arandr
      - nemo

- name: Install code via snap
  become: yes
  become_method: sudo
  snap:
    name: code
    classic: yes

- name: Set up .Xresources from template
  template:
    src: templates/.Xresources
    dest: /home/{{ ansible_user_id }}/.Xresources

- name: Set up i3 config from template
  template:
    src: templates/i3config
    dest: /home/{{ ansible_user_id }}/.config/i3/config

- name: Set up i3status config from template
  become: yes
  template:
    src: templates/i3status.conf
    dest: /etc/i3status.conf

- name: Update fonts cache
  action: command fc-cache -f -v
